<form role="form">
  <div class="well">
    <legend translate="settings.source.header"></legend>
    <div class="form-group" ng-show="hasPython">
      <label for="fileBrowser" translate="settings.source.browser.label"></label>
      <input type="file" id="fileBrowser" custom-on-change="scanFolder" nwdirectory ng-hide="folder">
      <div ng-show="folder">{{folder}} <a ng-click="syncLocal()"><i class="ion-refresh"></i> <span translate="about.sync">Sync data</span></a> | <a translate="settings.source.change" ng-click="resetFolder()"></a></div>
    </div>
    <div class="radio" ng-show="hasPython">
      <label>
        <input type="radio" ng-model="musicSource" value="local" ng-change="setMusicSource('local')">
        <span translate="settings.source.local"></span></label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" ng-model="musicSource" value="cloud" ng-change="setMusicSource('cloud')">
        <span translate="settings.source.cloud"></span></label>
    </div>
    <div class="radio" ng-show="hasPython">
      <label>
        <input type="radio" ng-model="musicSource" value="both" ng-change="setMusicSource('both')">
        <span translate="settings.source.both"></span></label>
    </div>
    <div class="checkbox">
      <label>
        <input type="checkbox" ng-model="preferYouTube" value="true" ng-change="togglePreferYouTube()">
        <span translate="settings.source.youtube"></span>
      </label>
    </div>
  </div>
  <div class="well">
    <legend translate="settings.viewSettings"></legend>
    <div class="radio">
      <label>
        <input type="radio" ng-model="viewMode" value="grid" ng-change="toggleView('grid')">
        <span translate="settings.view.grid"></span></label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" ng-model="viewMode" value="list" ng-change="toggleView('list')">
        <span translate="settings.view.list"></span></label>
    </div>
  </div>
  <div class="well">
    <legend translate="settings.userSettings"></legend>
    <table class="table table-condensed">
      <tr>
        <td><span translate="settings.user.loggedInAs"></span> <strong>{{user.account}}</strong></td>
        <td><a ng-click="logout();"><i class="icon ion-ios7-unlocked-outline"></i> <span translate="settings.user.logout"></span></a></td>
      </tr>
      <tr>
        <td translate="about.connectLastFm">Connected to last.fm</td>
        <td>
          <div ng-hide="hasLastFm">
            <a ng-click="authorizeLastFM()" translate="about.connectLastFm">Connect to last.fm</a>
          </div>
          <div ng-show="hasLastFm" translate="about.connectedLastFm">
            Connected to last.fm
          </div>
        </td>
      </tr>
      <tr>
          <td translate="about.lastUpdated">Last updated:</td>
          <td>{{totals.timestamp * 1000 | date:'medium'}}</td>
      </tr>
      <tr>
          <td translate="about.language.label">Last updated:</td>
          <td><select ng-model="language" ng-change="setLanguage(language)">
            <option value="en" translate="about.language.english"></option>
            <option value="nl" translate="about.language.dutch"></option>
          </select></td>
      </tr>
    </table>
  </div>
</form>